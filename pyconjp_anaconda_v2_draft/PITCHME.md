## Anacondaç’°å¢ƒé‹ç”¨TIPS
### ã€œAnacondaã®ç’°å¢ƒæ§‹ç¯‰ã«ã¤ã„ã¦çŸ¥ã‚‹ãƒ»ç­”ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã€œ
#### PyCon JP 2019 (2019/09/17) nikkie

---

### ãŠå‰ã€èª°ã‚ˆ (About nikkie)

- ãƒãƒ³ãƒ‰ãƒ«ãƒãƒ¼ãƒ  nikkie ï¼ˆalias [@ftnext](https://twitter.com/ftnext)ï¼‰
- æ ªå¼ä¼šç¤¾ãƒ¦ãƒ¼ã‚¶ãƒ™ãƒ¼ã‚¹æ‰€å± ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆï¼ˆâ€»æœ¬ç™ºè¡¨ã¯ **å€‹äººã®è¦‹è§£** ã§ã™ï¼‰
- PyCon JP 2019 ã‚¹ã‚¿ãƒƒãƒ•ã€ã¿ã‚“ãªã®Pythonå‹‰å¼·ä¼šã‚¹ã‚¿ãƒƒãƒ•ãƒ»4ä»£ç›®LTç‹å­
- Django Girls Tutorialç¿»è¨³ã‚„Workshopã®ã‚³ãƒ¼ãƒ

+++

### ãŠã“ã¨ã‚ã‚Šï¼šAnacondaç’°å¢ƒé‹ç”¨TIPSã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ã™ãŒ

- Anacondaã®ç§˜æŠ€ã‚’ä¼æˆã™ã‚‹ã‚ã‘ã§ã¯ **ã‚ã‚Šã¾ã›ã‚“**
	- nikkieãŒæ™®æ®µä½¿ã†ã®ã¯python.orgã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸPython
- Anacondaã‚’ã‚ªã‚¹ã‚¹ãƒ¡ã™ã‚‹ãƒˆãƒ¼ã‚¯ã§ã¯ã‚ã‚Šã¾ã›ã‚“

+++

### å•é¡Œæ„è­˜ï¼šä¼ã‚ã£ã¦ã„ãªã„Anacondaã®ä½¿ã„æ–¹

- åˆå­¦è€…ã¨Anacondaã®æ¥ç‚¹ï¼ˆå…¥é–€æ›¸ã‚„Webè¨˜äº‹ï¼‰ãŒå¢—ãˆã¦ã„ã‚‹
- æ•™ãˆã‚‹ä¸­ã§ã€Anacondaã®ä½¿ã„æ–¹ãŒä¼ã‚ã£ã¦ã„ãªã„ãŸã‚ã«ç™ºç”Ÿã—ãŸå•é¡Œã‚’ãŸã³ãŸã³è§£æ±º
- ã“ã®ãƒˆãƒ¼ã‚¯ã§ã¯ã€Pythonã‚’ä½¿ã†ä¸Šã§ãƒãƒã‚Šã«ãã„è€ƒãˆæ–¹ã‚’Anacondaã«ã‚‚é©ç”¨ â†’ Pythonã§ã‚„ã‚ŠãŸã„ã“ã¨ã‚’ã‚„ã‚‹ã®ã«é›†ä¸­ã§ãã‚‹ã‚ˆã†ã«

+++

### ãƒˆãƒ¼ã‚¯ã®å¯¾è±¡è€…

- ãƒ¡ã‚¤ãƒ³ï¼ã€ŒçŸ¥ã‚‹ã€ï¼š **Anacondaã‚’ä½¿ã£ã¦ã„ã‚‹Pythonåˆå­¦è€…ã®æ–¹**
- ã‚µãƒ–ï¼ã€Œç­”ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã€ï¼šAnacondaã«ã¤ã„ã¦ã®è³ªå•ã«ç­”ãˆã‚‰ã‚Œãªã‹ã£ãŸPythonä½¿ã„ã®çš†ã•ã¾

+++

### Anacondaç’°å¢ƒé‹ç”¨TIPSã®ãƒã‚¤ãƒ³ãƒˆ

- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã¯`conda`ã¨`pip`ã®äºŒåˆ€æµ
	- `conda`ã‚’ç©æ¥µçš„ã«ã€‚`pip`ã‹ã‚‰ã¯è·é›¢ã‚’ç½®ã
- `conda create`ã§ç’°å¢ƒã‚’åˆ†ã‘ã‚ˆã†

ã“ã®å¾Œèª¬æ˜ã™ã‚‹ã®ã§ã€ä»Šã¯è¬ã®å‘ªæ–‡ã§ã‚‚å¤§ä¸ˆå¤«ã§ã™

+++

### ç›®æ¬¡

- Anacondaã‚’çŸ¥ã£ã¦ã¿ã‚ˆã†
- 2æœ¬ã®åˆ€ï¼š`conda`ã¨`pip`
- ä»®æƒ³ç’°å¢ƒã‚’ä½¿ã£ã¦ã¿ã‚ˆã†

---

### ç›®æ¬¡

- **Anacondaã‚’çŸ¥ã£ã¦ã¿ã‚ˆã†**
- 2æœ¬ã®åˆ€ï¼š`conda`ã¨`pip`
- ä»®æƒ³ç’°å¢ƒã‚’ä½¿ã£ã¦ã¿ã‚ˆã†

+++

### Anaconda

- PCã«Pythonã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ‰‹æ®µã®1ã¤
- [JetBrainsã®survey(2018)](https://www.jetbrains.com/research/python-developers-survey-2018/)ã§ã¯ã€22%ãŒåˆ©ç”¨ï¼ˆè¤‡æ•°å›ç­”ã§ç¬¬3ä½ï¼‰
- Pythonã‚¤ãƒ³ã‚¿ãƒ¼ãƒ—ãƒªã‚¿ã¨ç§‘å­¦è¨ˆç®—ã§ä½¿ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆå¾Œè¿°ï¼‰ã‚’ã¾ã¨ã‚ã¦é…å¸ƒ

+++

Anacondaã§Pythonã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã€ç§‘å­¦è¨ˆç®—ã§ä½¿ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸(ä¾‹ï¼šnumpy)ãŒä½¿ãˆã‚‹baseç’°å¢ƒãŒæ•´ã†

```shell
(base) $ python
Python 3.7.3 (default, Mar 27 2019, 22:11:17)
[GCC 7.3.0] :: Anaconda, Inc. on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> import numpy as np  # numpyã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦
>>> np.__version__
'1.16.4'
```

Note:

- Anacondaã‚’ä½¿ã‚ãªã„Pythonã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®å ´åˆã¯ã€ModuleNotFoundError

+++

### è£œè¶³ï¼šPythonã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ‰‹æ®µã¯1ã¤ã§OK

- Anacondaã§Pythonã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãªã‚‰ã€python.orgãªã©ä»–ã®æ‰‹æ®µã¯ä½¿ã†å¿…è¦ãªã—
- æœ¬ã‚„Webè¨˜äº‹ã¯èª­ã¿æ›¿ãˆã¾ã—ã‚‡ã†
- è¤‡æ•°ã®æ‰‹æ®µã§Pythonã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚‚ã€1ã¤ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ä½¿ãˆã‚‹Pythonã¯1ã¤ã ã‘

+++

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã¯

![ç§ãŸã¡ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆPythonãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãã‚Œã‚’å…¥ã‚ŒãŸãƒ•ã‚©ãƒ«ãƒ€ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ã†](pyconjp_anaconda_v2_draft/assets/pyconjp2019_images.001.png)

Note:

- ç§ãŸã¡ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ã†
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ â‰’ Pythonãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãã‚Œã‚’å…¥ã‚ŒãŸãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã«ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆref: [Distribution Package](https://packaging.python.org/glossary/#term-distribution-package)ï¼‰

+++

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®é…å¸ƒå…ƒã¯è‰²ã€…

![PyPIã¨ã„ã†ãƒªãƒã‚¸ãƒˆãƒªã‚„Anacondaã‚’æä¾›ã™ã‚‹ä¼šç¤¾ãŒç®¡ç†ã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒªãŒã‚ã‚‹](pyconjp_anaconda_v2_draft/assets/pyconjp2019_images.002.png)

Note:

- PyPI
- Anacondaç¤¾ï¼ˆAnacondaã®æä¾›å…ƒï¼‰ç®¡ç†

+++

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç®¡ç†ã™ã‚‹ãƒ„ãƒ¼ãƒ«ï¼šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£

![ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã«ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†](pyconjp_anaconda_v2_draft/assets/pyconjp2019_images.003.png)

Note:

ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã«ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†

+++

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã‚‚è¤‡æ•°ã‚ã‚‹

![Anacondaã‚’ä½¿ã‚ãšã«Pythonã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå ´åˆã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã¯`pip`ã€Anacondaã«ä»˜å±ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãŒ`conda`](pyconjp_anaconda_v2_draft/assets/pyconjp2019_images.004.png)

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å½¢å¼ãŒç•°ãªã‚‹ã®ãŒä¸€å› ï¼ˆå¾Œè¿°ï¼‰

Note:

- Anacondaã‚’ä½¿ã‚ãšã«Pythonã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå ´åˆã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã¯`pip`
- Anacondaã«ä»˜å±ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãŒ`conda`ï¼ˆã‚³ãƒãƒ³ãƒ‰ï¼‰

+++

### `conda`ã¨`pip`ã®æ¯”è¼ƒ

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ | ãƒªãƒã‚¸ãƒˆãƒª | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ•°
----- | ----- | -----
`pip` | PyPI | å¤šã„ï¼ˆé–‹ç™ºè€…ã«å…¬é–‹ï¼‰
`conda` | repo.anaconda.com | å°‘ãªã„ï¼ˆAnacondaç¤¾ãŒç®¡ç†ï¼‰

---

### ç›®æ¬¡

- Anacondaã‚’çŸ¥ã£ã¦ã¿ã‚ˆã†
- **2æœ¬ã®åˆ€ï¼š`conda`ã¨`pip`**
- ä»®æƒ³ç’°å¢ƒã‚’ä½¿ã£ã¦ã¿ã‚ˆã†

+++

### `conda`ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå°‘ãªã„ï¼Ÿ

- å›ç­”ï¼š[`conda-forge`](https://conda-forge.org/)
- PyPIã®Anacondaã«ãŠã‘ã‚‹PyPIã®ã‚ˆã†ãªãƒªãƒã‚¸ãƒˆãƒª ref:[docs](https://docs.conda.io/projects/conda/en/latest/user-guide/concepts/channels.html?highlight=conda-forge#what-is-a-conda-channel)
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Anacondaç¤¾ç®¡ç†ãƒªãƒã‚¸ãƒˆãƒªä»¥å¤–ã‚’å¯¾è±¡ã«ã™ã‚‹éš›ã¯`--channnel`(`-c`)ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼š`conda install scipy --channel conda-forge`

+++

### æœ€çµ‚æ‰‹æ®µ`pip`

- `conda-forge`ã«ã‚‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒãªã„å ´åˆã€`pip`ã‚’ä½¿ã‚ã–ã‚‹ã‚’å¾—ãªã„ ref:[docs](https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-pkgs.html#installing-non-conda-packages)
- `pip install see`

>The differences between pip and conda packages cause certain unavoidable limits in compatibility but conda works hard to be as compatible with pip as possible.

Note:

pipãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨condaãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®é•ã„ãŒäº’æ›æ€§ã«ç½®ã„ã¦é¿ã‘ã‚‰ã‚Œãªã„åˆ¶é™ã‚’ã‚‚ãŸã‚‰ã™ã€‚
condaã¯pipäº”å·»ã¨ãªã‚‹ã‚ˆã†ã«å¯èƒ½ãªé™ã‚Šå¯¾å¿œã—ã¦ã„ã‚‹

+++

### æ°—ã«ã—ãŸã„ï¼šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å½¢å¼ãŒç•°ãªã‚‹

TODOï¼šãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã‚’æ¨ªã«ä¸¦ã¹ã¦è¦‹ã›ãŸã„

ref: [`conda`ã§æ‰±ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸](https://docs.conda.io/projects/conda/en/latest/user-guide/concepts/packages.html#what-is-a-conda-package)ã€[`pip`ã§æ‰±ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸](https://packaging.python.org/tutorials/packaging-projects/)

+++

### `conda`å´ã‚‚æ”¹å–„ã—ã¦ãã¦ã„ã‚‹ã‚‚ã®ã®

- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«`conda`4.6ä»¥é™ã§`pip`ã¨ä½µç”¨å¯èƒ½ã‚’ç¤ºã™[ä¾‹](https://docs.conda.io/projects/conda/en/latest/user-guide/configuration/pip-interoperability.html)
- æ‰‹å…ƒã§æ¤œè¨¼ã—ãŸã¨ã“ã‚ã€ä½µç”¨ã«ã‚ˆã‚‹ãƒªã‚¹ã‚¯ãŒçµ¶å¯¾ã«ãªã„ã¨ã¯è¨€ã„åˆ‡ã‚Œãªã„

+++

### `conda`ã¨`pip`ã®ä½¿ã„åˆ†ã‘ï¼ˆæ–¹é‡ï¼‰

1. Anacondaç¤¾ã®ãƒªãƒã‚¸ãƒˆãƒªã‚„`conda-forge`ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†ï¼ˆ`pip install`ã¯`conda install`ã«èª­ã¿æ›¿ãˆã‚‹ï¼‰
	- æ¥µåŠ›`conda`ã‚’ä½¿ã†ã“ã¨ã§ã€`conda`å‘ã‘ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨`pip`å‘ã‘ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®é‡è¤‡ã‚’æŠ‘ãˆã‚‹
2. `conda`ã§è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã ã‘ã€`pip`ã‚’ä½¿ã†ï¼ˆ`pip`ã¯æœ€çµ‚æ‰‹æ®µï¼‰

+++

![](pyconjp_anaconda_v2_draft/assets/pyconjp2019_images.005.png)

+++

### ãªã‚‹ã¹ã`conda`ã‚³ãƒãƒ³ãƒ‰ã‚’ï¼

```shell
(base) $ conda search ...  # condaå‘ã‘ãƒªãƒã‚¸ãƒˆãƒªã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ¤œç´¢
(base) $ conda install ...
(base) $ conda update ...  # condaå‘ã‘ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
```

---

### ç›®æ¬¡

- Anacondaã‚’çŸ¥ã£ã¦ã¿ã‚ˆã†
- 2æœ¬ã®åˆ€ï¼š`conda`ã¨`pip`
- **ä»®æƒ³ç’°å¢ƒã‚’ä½¿ã£ã¦ã¿ã‚ˆã†**

+++

### Anacondaã®baseç’°å¢ƒã®Pythonã‚’ä½¿ã£ã¦ã„ãã¨

![ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³Aã®é–‹ç™ºã®ãŸã‚ã« `conda install LibFoo=1.0`ã€‚åˆ¥ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³Bã®é–‹ç™ºã®ãŸã‚ã« `conda install LibFoo=2.0`ã€‚baseç’°å¢ƒã«ã¯LibFooã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸€æ–¹ã—ã‹å…¥ã‚‰ãªã„ã€‚ã€‚](pyconjp_anaconda_v2_draft/assets/pyconjp2019_images.006.png)

Note:

- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³Aã®é–‹ç™ºã®ãŸã‚ã« `conda install LibFoo=1.0`
- åˆ¥ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³Bã®é–‹ç™ºã®ãŸã‚ã« `conda install LibFoo=2.0`
- baseç’°å¢ƒã«ã¯LibFooã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸€æ–¹ã—ã‹å…¥ã‚‰ãªã„ã€‚ã€‚

+++

### è§£æ±ºæ–¹æ³•ï¼ˆAnacondaã§ã¯ãªã„å ´åˆï¼‰

- æ¨™æº–ã®Pythonã§ã¯ã€Œä»®æƒ³ç’°å¢ƒã€ãŒ[æ¡ˆå†…](https://docs.python.org/ja/3/tutorial/venv.html)ã•ã‚Œã‚‹
- æ¨™æº–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«venvã‚’ä½¿ç”¨ã™ã‚‹ï¼ˆPython3.3ä»¥é™ï¼‰

+++

### venvã«ã‚ˆã‚‹è§£æ±ºæ–¹æ³•ï¼ˆAnacondaã§ã¯ãªã„å ´åˆï¼‰

![ãã‚Œãã‚Œã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹ç™ºç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã«ä»®æƒ³ç’°å¢ƒã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚Šã€ãã“ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚ä»®æƒ³ç’°å¢ƒã©ã†ã—ã¯ç‹¬ç«‹ã•ã›ã‚‹](pyconjp_anaconda_v2_draft/assets/pyconjp2019_images.007.png)

Note:

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³Aã®é–‹ç™ºç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã«ä»®æƒ³ç’°å¢ƒã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚‹  
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³Aã«å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯å…¨ã¦ãã“ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³Bã®é–‹ç™ºç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã«ã‚‚åˆ¥ã®ä»®æƒ³ç’°å¢ƒã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚‹  
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³Bã«å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯å…¨ã¦ãã“ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

+++

### venvã®ã‚³ãƒãƒ³ãƒ‰ä¾‹ï¼ˆAnacondaã§ã¯ãªã„å ´åˆï¼‰

```shell
$ python3 -m venv tutorial-env  # ä»®æƒ³ç’°å¢ƒä½œæˆ(Linux, macOSå‰æ)
$ source tutorial-env/bin/activate  # ä»®æƒ³ç’°å¢ƒæœ‰åŠ¹åŒ–(Linux, macOSå‰æ)
(tutorial-env) $ pip install scikit-learn
```

å‚è€ƒï¼š[Python ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](https://docs.python.org/ja/3/tutorial/venv.html)ã€[Django Girls Tutorial](https://tutorial.djangogirls.org/ja/django_installation/)

+++

### Anacondaç‰ˆã€Œä»®æƒ³ç’°å¢ƒã€

- Anacondaã§ã‚‚venvã‚’ä½¿ã†ã“ã¨ã‚‚ã§ãã‚‹
	- Anacondaã«åŒæ¢±ã•ã‚ŒãŸç§‘å­¦è¨ˆç®—å‘ã‘ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç„¡è¦–ã™ã‚‹ãŸã‚ã€Anacondaå‘ãã§ã¯ãªã„ã¨ã„ã†è€ƒãˆ
- ã‚ˆã‚ŠAnacondaã®æ©Ÿèƒ½ã‚’å¼•ãå‡ºã™ã¨è€ƒãˆã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ï¼š`conda create`
- ã‚‚ã—å£Šã‚Œã¦ã‚‚ãã®ç’°å¢ƒã‚’æ¨ã¦ã‚‹ã ã‘ã§æ¸ˆã‚€

+++

### (æ¡ˆ1) ä»®æƒ³ç’°å¢ƒã®ä½¿ã„æ–¹

tensorflowã‚’ä½¿ã†ãŸã‚ã®ç’°å¢ƒã‚’ä½œã‚‹

```shell
(base) $ conda create -n ml_tf python=3.6 jupyter tensorflow
(base) $ conda activate ml_tf
(ml_tf) $  # tensorflowã‚’ä½¿ã£ãŸé–‹ç™º
(ml_tf) $ conda deactivate  # é–‹ç™ºçµ‚äº†å¾Œã€baseç’°å¢ƒã«æˆ»ã™
(base) $
```

Note:

- tensorflowã¯baseã«ã¯å…¥ã£ã¦ã„ãªã„
- `conda create`ã§Python3.6ã¨numpyãŒä½¿ãˆã‚‹ç’°å¢ƒã‚’myenvã¨ã„ã†åå‰(`-n`)ã§ä½œæˆ
- `conda activate`ã§ä»®æƒ³ç’°å¢ƒmyenvã‚’æœ‰åŠ¹ã«ã™ã‚‹
- `conda deactivate`ã§ä»®æƒ³ç’°å¢ƒmyenvã‚’ç„¡åŠ¹ã«ã—ã€å…ƒã®ç’°å¢ƒbaseã«æˆ»ã™

+++

### (æ¡ˆ2) ä¾¿åˆ©ãªbaseç’°å¢ƒã‚’ãªã‚‹ã¹ãå®‰å…¨ã«ä½¿ã† TODOæ¤œè¨¼

- ä¾‹ï¼šbaseç’°å¢ƒã«`pip`ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¥ã‚ŒãŸã„
- `conda create --clone base`
- ã†ã¾ãå‹•ã‹ãªã‹ã£ãŸã‚‰æ¨ã¦ã‚Œã°ã„ã„ã€‚baseç’°å¢ƒã«å½±éŸ¿ã¯ãªã„

---

### ã¾ã¨ã‚ï¼šAnacondaç’°å¢ƒé‹ç”¨TIPS

- `conda`ã‚’ç©æ¥µçš„ã«ä½¿ã£ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã‚’ã€‚`pip`ã¯æœ€çµ‚æ‰‹æ®µ
- ä»®æƒ³ç’°å¢ƒã®è€ƒãˆæ–¹ã‚’Anacondaã§ã‚‚å–ã‚Šå…¥ã‚Œã‚ˆã†
	- `conda create`ã§ç’°å¢ƒã‚’åˆ†ã‘ã‚‹ã¨ä¾¿åˆ©
	- `conda clone`ã§baseç’°å¢ƒã‚’å®‰å…¨ã«ä½¿ãŠã†

+++

### èªã‚Š

- ç¹°ã‚Šè¿”ã—ã§ã™ãŒã€Anacondaã‚’è–¦ã‚ã‚‹ãƒˆãƒ¼ã‚¯ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æ€ã†ã«ã€ç’°å¢ƒæ§‹ç¯‰ã®æ–¹æ³•ã«å„ªåŠ£ã¯ãªã„ï¼ˆPythonã§ã‚„ã‚ŠãŸã„ã“ã¨ãŒã§ãã‚‹ã“ã¨ãŒé‡è¦ï¼‰
- å‹•ã„ã¦ã„ã‚‹ã“ã¨ãŒé‡è¦ã€‚ãªã‚“ã¨ã—ã¦ã‚‚ä»Šã™ãç›´ã•ãªãã‚ƒã„ã‘ãªã„ã‚ã‘ã˜ã‚ƒãªã„ã€‚æ¬¡ã«æ§‹ç¯‰ã™ã‚‹æ™‚ã€ã‚‚ã£ã¨ã†ã¾ãã‚„ã‚ã†ğŸ´

+++

### Appendix

TODOï¼šç›®æ¬¡

+++

### Special Thanks

- ç·´ç¿’ã«ä»˜ãåˆã£ã¦ãã ã•ã£ãŸæ–¹ã€…ï¼ˆè·å ´ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ï¼‰
- è³‡æ–™ä½œæˆã®å ´ã¨ã—ã¦åˆ©ç”¨ã•ã›ã¦ã„ãŸã ã„ãŸPythonã®ã‚‚ãã‚‚ãä¼šï¼ˆ#pyhack, #rettypyï¼‰
- ã“ã‚Œã¾ã§Pythonã‚’æ•™ãˆã‚‹æ©Ÿä¼šã‚’ãã ã•ã£ãŸæ–¹ã€…
- PyCon JP 2018ã§ã€Œæ¥å¹´ã¯ç™»å£‡ã—ãŸã„ã€ã¨æ€ã£ãŸéå»ã®è‡ªåˆ†
- ç´ æ•µãªã‚¢ãƒ‹ãƒ¡ã§ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã‚’æ”¯ãˆã¦ãã ã•ã‚‹äº¬éƒ½ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

+++

### ã”æ¸…è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ

AppendixãŒç¶šãã¾ã™

---

Appendix

- æ¤œè¨¼ç’°å¢ƒã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å…±æœ‰

+++

condaã‚³ãƒãƒ³ãƒ‰ã§ã§ãã‚‹ã“ã¨

+++

### `conda`ã§ã§ãã‚‹ã“ã¨ï¼ˆä¸€ä¾‹ï¼‰

- [`conda search scikit`](https://conda.io/projects/conda/en/latest/commands/search.html)ï¼šscikitã‚’åå‰ã«å«ã‚€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ¤œç´¢
- [`conda install scikit-rf`](https://conda.io/projects/conda/en/latest/commands/install.html)ï¼šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- ãƒãƒãƒ¼ã‚¸ï¼ˆç®¡ç†ï¼‰ã™ã‚‹ã®ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«é™ã‚‰ãšã€Pythonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚ç®¡ç†ã§ãã‚‹ã®ãŒç‰¹å¾´

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Anacondaç¤¾ç®¡ç†ä¸‹ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå¯¾è±¡ï¼ˆ[å„ç¨®ä¸€è¦§](https://docs.anaconda.com/anaconda/packages/pkg-docs/)ï¼‰ã€‚ï¼ˆAppendixã¸ï¼‰

+++

### [`conda create`](https://docs.conda.io/projects/conda/en/latest/commands/create.html)

- `conda create -n myenv python=3.7 numpy`
	- Python3.7ã¨numpyãŒä½¿ãˆã‚‹ç’°å¢ƒã‚’myenvã¨ã„ã†åå‰ã§ä½œæˆ
- `conda create -n myenv2 anaconda`
	- baseç’°å¢ƒã¨åŒæ§˜ã«ç§‘å­¦è¨ˆç®—ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¥ã£ãŸç’°å¢ƒã‚’myenv2ã¨ã„ã†åå‰ã§ä½œæˆ
	- baseç’°å¢ƒã¨å…±é€šã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¥ã‚‹ãŒã€æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ãªã‚‹ï¼ˆå›ºå®šã‚‚å¯èƒ½ TODOãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰

+++

### ä»®æƒ³ç’°å¢ƒã®æ“ä½œ

- æœ‰åŠ¹ã«ã™ã‚‹ï¼š`conda activate <ä»®æƒ³ç’°å¢ƒå>`
	- condaã®4.6ä»¥é™å‰æã€‚4.6ã‚ˆã‚Šå‰ã¯[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://conda.io/projects/continuumio-conda/en/latest/user-guide/getting-started.html#managing-environments)å‚ç…§
- ç„¡åŠ¹ã«ã™ã‚‹ï¼š`deactivate`

+++

### æ“ä½œä¾‹

```shell
(base) $ conda create -n myenv python=3.7 numpy
(base) $ conda activate myenv
(myenv) $ python
Python 3.7.4 (default, Aug 13 2019, 20:35:49)
[GCC 7.3.0] :: Anaconda, Inc. on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> import numpy as np
>>> np.__version__
'1.16.4'
```

+++

### conda createã®æŒ™å‹•

ROOT_DIRã®/envsä¸‹ã«ä»®æƒ³ç’°å¢ƒã«å¯¾å¿œã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã‚‹ [ref](https://conda.io/projects/conda/en/latest/user-guide/concepts/environments.html)  
ãã‚Œãã‚Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹

```
/opt/conda/envs/
â”œâ”€â”€ myenv
â”œâ”€â”€ myenv2
â””â”€â”€ some_pip_test
```

+++

### ä½µç”¨ä¾‹ï¼ˆimagesizeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’pipã§ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼‰

```
(some_pip_test) $ conda --version
conda 4.7.10
(some_pip_test) $ conda list
# Name                    Version                   Build  Channel

imagesize                 1.0.0                    py37_0

(some_pip_test) $ pip install -U imagesize
(some_pip_test) $ conda list
# Name                    Version                   Build  Channel

imagesize                 1.1.0                    pypi_0    pypi

```

+++

### condaãŒ4.6ã‚ˆã‚Šå‰ã¯ä½µç”¨ã§ããªã„

äºŒé‡ç®¡ç†ã«ãªã£ã¦ã—ã¾ã†ï¼ˆç’°å¢ƒãŒå£Šã‚Œã‚‹è¦å› ã«ï¼‰

```
(some_pip_test) $ conda --version
conda 4.4.10
(some_pip_test) $ conda list
# Name                    Version                   Build  Channel

imagesize                 1.0.0                    py37_0

(some_pip_test) $ pip install -U imagesize
(some_pip_test) $ conda list
# Name                    Version                   Build  Channel

imagesize                 1.1.0                     <pip>
imagesize                 1.0.0                    py37_0  

```

+++

### condaã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ã‚‹

`conda update conda`

(base)ã§å®Ÿè¡Œã™ã‚‹  
(base)ã«å…¥ã£ã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä¸ŠãŒã‚‹ï¼ˆå›ºå®šã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚‹ï¼‰  
äºŒé‡ç®¡ç†ã®è¡¨ç¤ºçŠ¶æ…‹ãŒè§£æ±ºã•ã‚ŒãŸï¼ˆè¦‹ãŸç›®ã®å¤‰æ›´ã ã‘ã®å¯èƒ½æ€§ï¼‰

https://conda.io/projects/conda/en/latest/user-guide/getting-started.html#managing-conda

+++

ãƒãƒ£ãƒ³ãƒãƒ«

- ãƒãƒ£ãƒ³ãƒãƒ«ï¼ˆTODOï¼šè¦èª¬æ˜ï¼‰ã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ¤œç´¢ãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ç®¡ç†ã®ãƒãƒ£ãƒ³ãƒãƒ«ã‚‚å¯¾è±¡ã«ã§ãã‚‹

+++

ç’°å¢ƒã®æŒã¡é‹ã³æ–¹æ³•ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®èª­ã¿è¾¼ã¿ã‚„cloneï¼‰

+++

### ãŠã¾ã‘ï¼šç’°å¢ƒåˆ‡ã‚Šåˆ†ã‘ã®New Era

pipenvã¾ãŸã¯poetryã‚’ç´¹ä»‹
